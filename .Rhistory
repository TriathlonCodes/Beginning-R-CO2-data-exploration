which(countryNames$worldMap.names == trade.data$Country[,1])
which(countryNames$worldMap.names == trade.data$Country[1,])
which(countryNames$worldMap.names == trade.data$Country[1,10])
which(countryNames$worldMap.names == trade.data$Country[1])
trade.data$Country[1]
which(countryNames$worldMap.names == "China")
which(countryNames$worldMap.names == c("China", "Russia")
which(countryNames$worldMap.names == c("China", "Russia"))
which(countryNames$worldMap.names ~ c("China", "Russia"))
subset(worldMap[which(worldMap$names== trade.data$Country[1])])
subset(worldMap, names== trade.data$Country[1])
subset(worldMap, names == "China")
subset(countryNames, names == "China")
subset(countryNames, names == c("China", "Russia")
)
worldMap$color <- "black"
theCountries <- c("DEU", "COD", "BFA")
malDF <- data.frame(country = theCountries,
malaria = c(1,1,2))
malMap <- joinCountryData2Map(malDF, joinCode = "ISO3",
nameJoinColumn = "country")
mapCountryData(malMap, nameColumnToPlot = "malaria", catMethod = "categorical", missingCountryCol = gray(.8))
setwd('../Beginning-R-CO2-data-exploration/')
carbonData <- read.csv('co2-world-data.csv', header=T )
require(rworldmap)
countries <- carbonData$Country.Code
countries <- c("DEU", "COD")
carbonData$Country.Code
countries <- carbonData$Country.Code
countries <- c(carbonData$Country.Code)
countries <- as.vector(carbonData$Country.Code)
require(rworldmap)
carbonData <- read.csv('co2-world-data.csv', header=T )
countries <- as.vector(carbonData$Country.Code)
carbonEmissionDF <- data.frame(country = countries,
1996 = carbonData$X1996..YR1996.)
carbonEmissionDF <- data.frame(country = countries,
"1996" = carbonData$X1996..YR1996.)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "1996",
catMethod = "categorical",
missingCountryCol = grey(.5))
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "1996",
catMethod = "categorical",
missingCountryCol = grey(.5))
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5))
```
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F,
do.call( addMapLegend(legendWidth = 0.5, legendMar = 2))
)
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F,
do.call( addMapLegend(mapParams, legendWidth = 0.5, legendMar = 2))
)
```{r echo=FALSE}
require(rworldmap)
```
```{r}
carbonData <- read.csv('co2-world-data.csv', header=T )
countries <- as.vector(carbonData$Country.Code)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.
YR2010 = carbonData$X2010..YR2010.)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
```
```{r}
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
```
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.
YR2010 = carbonData$X2010..YR2010.)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.)
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
par(mai=c(0,0,0.2,0),xaxs="i",yaxs="i")
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
do.call(addMapLegend, c(co2of2010, legendWidth=.5, legendMar = 2))
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
numCats = 8
)
do.call(addMapLegend, c(co2of2010, legendWidth=.5, legendMar = 2))
install.packages('ggmap')
ggmap(co2of2010)
library(ggmap)
ggmap(co2of2010)
map <- get_map(co2of2010)
map <- get_map(location = "World")
ggmap(map)
$get_map
?get_map
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.,
comparison = carbonData$X1996..YR1996. - carbonData$X2010..YR2010.)
View(carbonEmissionDF)
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparision",
catMethod = "categorical",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
carbonData <- read.csv('co2-world-data.csv', header=T )
countries <- as.vector(carbonData$Country.Code)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.,
comparison = carbonData$X1996..YR1996. - carbonData$X2010..YR2010.)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
```
```{r}
par(mai=c(0,0,0.2,0),xaxs="i",yaxs="i")
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
catMethod = "categorical",
missingCountryCol = grey(.5),
numCats = 8
)
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparision",
catMethod = "categorical",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
catMethod = "categorical",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
catMethod = "categorical",
numCats = 6,
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
#                                catMethod = "categorical",
#                                numCats = 6,
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
# catMethod = "categorical",
missingCountryCol = grey(.5),
addLegend = F
)
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
# catMethod = "categorical",
missingCountryCol = grey(.5),
numCats = 8
)
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
#                                catMethod = "categorical",
#                                numCats = 6,
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
addLegend = F
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
# catMethod = "categorical",
missingCountryCol = grey(.5),
)
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
# catMethod = "categorical",
missingCountryCol = grey(.5),
numCats = 8
)
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
#                                catMethod = "categorical",
#                                numCats = 6,
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.,
comparison = carbonData$X2010..YR2010. - carbonData$X1996..YR1996..)
require(rworldmap)
carbonData <- read.csv('co2-world-data.csv', header=T )
countries <- as.vector(carbonData$Country.Code)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.,
comparison = carbonData$X2010..YR2010. - carbonData$X1996..YR1996..)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR2010 = carbonData$X2010..YR2010.,
comparison = carbonData$X2010..YR2010. - carbonData$X1996..YR1996.)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
par(mai=c(0,0,0.2,0),xaxs="i",yaxs="i")
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
missingCountryCol = grey(.5),
)
co2of1996 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR1996",
missingCountryCol = grey(.5)
)
co2of2010 <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "YR2010",
missingCountryCol = grey(.5),
numCats = 8
)
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5),
addLegend = F)
do.call(addMapLegend, c(comparison, legendMar=2))
comparison <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = "comparison",
colourPalette = "heat",
mapTitle = "Comparision 1996 to 2010",
missingCountryCol = grey(.5))
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('~/Desktop/stephanie/exploring-shiny-with-co2-emission-data/widgets-practice')
shiny::runApp('~/Desktop/stephanie/exploring-shiny-with-co2-emission-data/first-round-responsive-practice')
source('~/Desktop/stephanie/exploring-shiny-with-co2-emission-data/first-round-responsive-practice/helpers.R', echo=TRUE)
shiny::runApp('~/Desktop/stephanie/exploring-shiny-with-co2-emission-data/first-round-responsive-practice')
shiny::runApp('~/Desktop/stephanie/exploring-shiny-with-co2-emission-data/first-round-responsive-practice')
summary(carbonData)
carbonData <- read.csv('../co2-world0data.csv', header=T)
carbonData <- read.csv('co2-world0data.csv', header=T)
carbonData <- read.csv('co2-world-data.csv', header=T)
source('~/Desktop/stephanie/Beginning-R-CO2-data-exploration/responsiveMaps/helpers.R', echo=TRUE)
carbonData <- read.csv('co2-world-data.csv', header=T)
require(rworldmap)
carbonData <- read.csv('co2-world-data.csv', header=T)
countries <- as.vector(carbonData$Country.Code)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR1997 = carbonData$X1996..YR1997.,
YR1998 = carbonData$X1996..YR1998.,
YR1999 = carbonData$X1996..YR1999.,
YR2000 = carbonData$X1996..YR2000.,
YR2001 = carbonData$X1996..YR2001.,
YR2002 = carbonData$X1996..YR2002.,
YR2003 = carbonData$X1996..YR2003.,
YR2004 = carbonData$X1996..YR2004.,
YR2005 = carbonData$X1996..YR2005.,
YR2006 = carbonData$X1996..YR2006.,
YR2007 = carbonData$X1996..YR2007.,
YR2008 = carbonData$X1996..YR2008.,
YR2009 = carbonData$X1996..YR2009.,
YR2010 = carbonData$X1996..YR2010.,
YR2011 = carbonData$X1996..YR2011.
)
View(carbonData)
carbonEmissionDF <- data.frame(country = countries)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR1997 = carbonData$X1996..YR1997.,
YR1998 = carbonData$X1996..YR1998.,
YR1999 = carbonData$X1996..YR1999.,
)
carbonEmissionDF <- data.frame(country = countries,
YR1996 = carbonData$X1996..YR1996.,
YR1997 = carbonData$X1997..YR1997.,
YR1998 = carbonData$X1998..YR1998.,
YR1999 = carbonData$X1999..YR1999.,
YR2000 = carbonData$X2000..YR2000.,
YR2001 = carbonData$X2001..YR2001.,
YR2002 = carbonData$X2002..YR2002.,
YR2003 = carbonData$X2003..YR2003.,
YR2004 = carbonData$X2004..YR2004.,
YR2005 = carbonData$X2005..YR2005.,
YR2006 = carbonData$X2006..YR2006.,
YR2007 = carbonData$X2007..YR2007.,
YR2008 = carbonData$X2008..YR2008.,
YR2009 = carbonData$X2009..YR2009.,
YR2010 = carbonData$X2010..YR2010.,
YR2011 = carbonData$X2011..YR2011.
)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
shiny::runApp('responsiveMaps')
getwd()
setwd('responsiveMaps/')
shiny::runApp()
setwd('..')
getwd()
shiny::runApp('responsiveMaps')
carbonData <- read.csv('co2-world-data.csv', header=T)
# carbonData <- read.csv('co2-world-data.csv', header=T)
countries <- as.vector(carbonData$Country.Code)
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
source('~/Desktop/stephanie/Beginning-R-CO2-data-exploration/responsiveMaps/helpers.R', echo=TRUE)
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
)
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
source('~/Desktop/stephanie/Beginning-R-CO2-data-exploration/responsiveMaps/helpers.R', echo=TRUE)
shiny::runApp('responsiveMaps')
source('~/Desktop/stephanie/Beginning-R-CO2-data-exploration/responsiveMaps/helpers.R', echo=TRUE)
View(carbonEmissionDF)
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
min(carbonEmissionDF$X1996)
pmin <-min(carbonEmissionDF[column])
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
carbonEmissionDF <- data.frame(country = countries,
"min" <- 0,
"max" <- 0,
"1996" = carbonData$X1996..YR1996.,
"1997" = carbonData$X1997..YR1997.,
"1998" = carbonData$X1998..YR1998.,
"1999" = carbonData$X1999..YR1999.,
"2000" = carbonData$X2000..YR2000.,
"2001" = carbonData$X2001..YR2001.,
"2002" = carbonData$X2002..YR2002.,
"2003" = carbonData$X2003..YR2003.,
"2004" = carbonData$X2004..YR2004.,
"2005" = carbonData$X2005..YR2005.,
"2006" = carbonData$X2006..YR2006.,
"2007" = carbonData$X2007..YR2007.,
"2008" = carbonData$X2008..YR2008.,
"2009" = carbonData$X2009..YR2009.,
"2010" = carbonData$X2010..YR2010.,
"2011" = carbonData$X2011..YR2011.
)
carbonEmissionMap <- joinCountryData2Map(carbonEmissionDF,
joinCode = "ISO3",
nameJoinColumn = "country")
emission_map <- function(var, legend.title, min = 0, max=70) {
#set the shades of the map
shades <- colorRampPalette(c("green", "red"))(16)
column <- paste0("X", legend.title)
pmin <-min(carbonEmissionDF[column])
pmax <-max(carbonEmissionDF[column])
var <- c(min, max)
print(var)
emissions <- as.integer(cut(var, 70, include.lowest = T, ordered = T))
fills <-shades[emissions]
column <- paste0("X", legend.title)
map <- mapCountryData(carbonEmissionMap,
nameColumnToPlot = column,
title(main=legend.title),
missingCountryCol = grey(.7),
colourPalette = shades,
numCats = 16
)
}
shiny::runApp('responsiveMaps')
carbonEmissionDF <- data.frame(country = countries,
"min" <- 0,
"max" <- 70,
"1996" = carbonData$X1996..YR1996.,
"1997" = carbonData$X1997..YR1997.,
"1998" = carbonData$X1998..YR1998.,
"1999" = carbonData$X1999..YR1999.,
"2000" = carbonData$X2000..YR2000.,
"2001" = carbonData$X2001..YR2001.,
"2002" = carbonData$X2002..YR2002.,
"2003" = carbonData$X2003..YR2003.,
"2004" = carbonData$X2004..YR2004.,
"2005" = carbonData$X2005..YR2005.,
"2006" = carbonData$X2006..YR2006.,
"2007" = carbonData$X2007..YR2007.,
"2008" = carbonData$X2008..YR2008.,
"2009" = carbonData$X2009..YR2009.,
"2010" = carbonData$X2010..YR2010.,
"2011" = carbonData$X2011..YR2011.
)
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
shiny::runApp('responsiveMaps')
